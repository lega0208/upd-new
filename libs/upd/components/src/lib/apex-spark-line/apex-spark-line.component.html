<upd-card
  [title]="title"
  [titleTooltip]="titleTooltip"
  [h]="100"
  [config]="secondaryTitleCols"
  [data]="secondaryTitleData"
  [modal]="modal"
>
  <ng-container *ngIf="!hasData; else elseBlock">
    <p>
      <span [translate]="emptyMessage"></span>
    </p>
  </ng-container>
  <ng-template #elseBlock>
    <div class="d-flex justify-content-between">
      <div>
        <h5 class="fw-bold large-text">
          {{ curr }}
        </h5>
        <!-- <span
          *ngIf="keyword === 'calls'"
          [ngbTooltip]=""
          style="color: #6b7280"
        >
          {{ 'kpi-calls-per-100-text' | translate }}
        </span>
        <span *ngIf="keyword === 'feedback'" style="color: #6b7280">{{
          ('kpi-feedback-per-1000-text' | translate).replace(
            '1 000',
            '1&nbsp;000'
          ) // easiest way to add a non-breaking space...
        }}</span> -->
      </div>
      <div class="d-flex justify-content-end flex-column align-items-end">
        <span
          [ngStyle]="{ color: kpiConfig[kpiObjectiveStatus].colour }"
          class="fw-bold text-nowrap pe-2"
        >
          {{ comparison | localePercent }}
          <span class="material-icons">{{
            kpiConfig[kpiObjectiveStatus].iconName
          }}</span>
        </span>
        <span *ngIf="keyword === 'calls'" class="kpi-text"
          >({{ diff }} {{ 'kpi-calls-per-100-label' | translate }})
        </span>
        <span *ngIf="keyword === 'feedback'" class="kpi-text"
          >({{ diff }} {{ 'kpi-feedback-per-1000-label' | translate }})</span
        >
      </div>
    </div>

    <div class="d-flex justify-content-end"></div>

    <div class="d-flex justify-content-end"></div>
    <div class="radialBar">
      <apx-chart
        #chart
        [series]="series || []"
        [labels]="chartOptions.labels || []"
        [legend]="chartOptions.legend || {}"
        [chart]="chartConfig"
        [yaxis]="chartOptions.yaxis || []"
        [xaxis]="chartOptions.xaxis || {}"
        [stroke]="chartOptions.stroke || {}"
        [plotOptions]="chartOptions.plotOptions || {}"
        [markers]="chartOptions.markers || {}"
        [fill]="chartOptions.fill || {}"
        [colors]="colors"
        [dataLabels]="chartOptions.dataLabels || {}"
        [tooltip]="chartOptions.tooltip || {}"
      ></apx-chart>
    </div>

    <div class="d-flex justify-content-end align-items-center">
      <ng-content></ng-content>
    </div>
  </ng-template>

  <!--

  <div class="pt-3">
    <upd-accordion
      [title]="'view-description'"
    >
      <upd-data-table
        [filter]="false"
        [sort]="false"
        [pagination]="false"
      ></upd-data-table>
    </upd-accordion>
  </div> -->
</upd-card>
